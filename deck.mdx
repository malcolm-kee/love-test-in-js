export { book as theme } from 'mdx-deck/themes';

import { Appear, Head, Image } from 'mdx-deck';
import { Invert } from 'mdx-deck/layouts';
import CodeSurfer from './components/code-surfer';
import Scripts from './components/scripts';

<Head>
  <title>How to Love Writing Test for JavaScript</title>
</Head>

export default Invert;

# How to Love Writing Test for JavaScript

---

<CodeSurfer
  code={require('!!raw-loader!./snippets/1.js')}
  showNumbers
  steps={[
    { notes: 'How test looks like' },
    { range: [1, 12], notes: 'Code to be tested' },
    { range: [14, 26], notes: 'The test' }
  ]}
/>

---

# I hated writing JavaScript tests

---

## 1. Hard to maintain (add code + bug fix)

---

## 2. Doesn't catch my bug

---

## 3. Boring

---

# If I'm a good developer, my code shouldn't have bug.

---

But I'm human.

---

<blockquote className="twitter-tweet">
  <p lang="en" dir="ltr">
    Write tests. Not too many. Mostly integration.
  </p>
  &mdash; Guillermo ▲ (@rauchg) <a href="https://twitter.com/rauchg/status/807626710350839808?ref_src=twsrc%5Etfw">December 10, 2016</a>
</blockquote>

---

# Test is like security. Too much of it will cause the "safest" result: do nothing.

---

# Test only public API

---

<blockquote className="twitter-tweet">
  <p lang="en" dir="ltr">
    The common wisdom is that unit tests make refactoring harder, but for React,
    the opposite has been true. I do huge rewrites several times a year, and I’m
    only able to do so because our test suite provides so much safety.
    <br />
    <br />
    When people say, “only test the public API,” this is why!
  </p>
  &mdash; Andrew Clark (@acdlite)
  <a href="https://twitter.com/acdlite/status/1105318434085040128?ref_src=twsrc%5Etfw">
    March 12, 2019
  </a>
</blockquote>

---

# Test it at "Right" Level of Isolation

---

<Image src="images/testing_pyramid.png" />

---

<Image src="images/testing_pyramid_with_tradeoff.png" />

---

<Image src="images/man_push_up.gif" />

---

# Test is code too

- keep it DRY (but don't overdo it)
- it's all about tradeoff

---

export default Invert;

# Give It a Try

<Scripts scriptSrc="https://platform.twitter.com/widgets.js" />
